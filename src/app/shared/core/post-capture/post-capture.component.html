<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-avatar slot="start" class="ion-margin-start"
      ><img
        src="https://gravatar.com/avatar/8db683da3c728970bb776f6cc4048fd2?s=400&d=mp&r=x"
    /></ion-avatar>
    <ion-title>{{ (transaction$ | async)?.sender }}</ion-title>
    <ion-title size="small">{{
      (transaction$ | async)?.fulfilled_at | date: 'short'
    }}</ion-title>
  </ion-toolbar>
</ion-header>

<app-img [src]="(asset$ | async)?.sharable_copy"></app-img>

<ion-list [class.ion-hide]="!showMore" lines="none">
  <ion-item>
    <ion-icon
      name="time"
      slot="start"
      class="ion-no-margin ion-margin-end"
    ></ion-icon>
    <ion-label class="ion-no-margin ion-margin-start">
      {{ (asset$ | async)?.information.proof.timestamp | date: 'medium' }}
    </ion-label>
  </ion-item>
  <ion-item>
    <ion-icon
      name="location"
      slot="start"
      class="ion-no-margin ion-margin-end"
    ></ion-icon>
    <ion-label class="ion-no-margin ion-margin-start">
      {{ location$ | async }}
    </ion-label>
  </ion-item>
  <ion-item>
    <ion-icon
      src="/assets/icons/media-id.svg"
      slot="start"
      class="ion-no-margin ion-margin-end"
    ></ion-icon>
    <ion-label class="ion-no-margin ion-margin-start">
      {{ (asset$ | async)?.id }}
    </ion-label>
  </ion-item>
</ion-list>
<p
  class="ion-padding-horizontal caption caption-ellipsis"
  [class.caption-full]="showMore"
>
  {{ (transaction$ | async)?.asset.caption }}
</p>
<span
  (click)="showMore = !showMore"
  class="show-more ion-activatable ion-margin-end"
>
  {{ showMore ? 'show less' : 'show more...' }}
  <ion-ripple-effect></ion-ripple-effect>
</span>
